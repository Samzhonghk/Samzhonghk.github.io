
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Second Day of Music Store Project(SamMusicStore)  | Sam Zhong</title>

<meta name="author" content="Sam Zhong"> 

<meta name="description" content="Using model to pass information to view Today I am going to make a dynamic web site, I will instead pass informaiton from controller actions to view &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Sam Zhong" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">Sam Zhong</a></h1>
<h4>Passionated with app,ios games,.net website and various of tech.</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:samzhonghk.github.io">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">Second Day of Music Store Project(SamMusicStore)</h2>
	<div class="entry-content"><!--more-->


<h3>Using model to pass information to view</h3>

<p>Today I am going to make a dynamic web site, I will instead pass informaiton from controller actions to view templates.</p>

<h4>In the Model-View-Controller pattern, the term Model refers to object which represent the data in the application. Often, model objects correspond to tables in your database, but they do not have to.</h4>

<p>1.Now I will create a class called &lsquo;Genre&rsquo;.
<img class="left" src="/images/SamMvc/addGenreClass.jpg" width="350" height="350" title="image" alt="images"></p>

<p>This is the details action
<img class="left" src="/images/SamMvc/DetailsAction.jpg" width="350" height="350" title="image" alt="images">
2.Modify the logic to return an Album object to the view(Dummy data here)</p>

<p>3.Add a related detail view by right click on the details action name and take the Album as the model class.
<img class="left" src="/images/SamMvc/addDetailsView.jpg" width="350" height="350" title="image" alt="images"></p>

<p>4.Make an update for the Store Browse action method. The method returns an ActionResult, and modify the method logic so it creates a new Genre object and returns it to the view.
<img class="left" src="/images/SamMvc/editBrowerAction.jpg" width="350" height="350" title="image" alt="images"></p>

<p>5.Add a related view to method and take Genre as the model.
<img class="left" src="/images/SamMvc/addBrowerView.jpg" width="350" height="350" title="image" alt="images"></p>

<p>6.Now I will update the Store Index action method and view to display a list of all the Genres in our store.
<img class="left" src="/images/SamMvc/editIndexAction.jpg" width="350" height="350" title="image" alt="images"></p>

<p>7.Add a view to the Index method and select Genre as the model class.
<img class="left" src="/images/SamMvc/addIndexView.jpg" width="350" height="350" title="image" alt="images"></p>

<p>8.Then I will change the @model declaration to indicate that the view will be expecting several Genre objects rather than just one.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c#'><span class='line'><span class="n">@model</span> <span class="n">IEnumberable</span><span class="p">&lt;</span><span class="n">SamMvcMusic</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">Genre</span><span class="p">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>9.Loop through the Genre objects in the model as shown below
<img class="left" src="/images/SamMvc/editIndexView.jpg" width="350" height="350" title="image" alt="images"></p>

<h4>The count and list of Gernes is displayed when the application is ran.</h4>

<p><img class="left" src="/images/SamMvc/IndexViewDisplay.jpg" width="450" height="450" title="image" alt="images"></p>

<h3>Adding links between pages</h3>

<p>Html.ActionLink() has several different overloads to allow specifying as much informaiton as the need for links. In the simplest case, just to supply the link text and the action method to go to when the hyperlink is clicked on the client.</p>

<blockquote><p>Our links to the Browse page will need to pass a parameter, though, so we’ll use another overload of the</p>

<p>Html.ActionLink method that takes three parameters:</p>

<p>1.Link text, which will display the Genre name</p>

<p>2.Controller action name (Browse)</p>

<p>3.Route parameter values, specifying both the name (Genre) and the value (Genre name)</p></blockquote>

<p><img class="left" src="/images/SamMvc/editIndexView.jpg" width="650" height="650" title="image" alt="images"></p>

<h4>Now when we run our project again and access the /Store/ URL we will see a list of genres. Each genre is a hyperlink – when clicked it will take us to our /Store/Browse?genre=[genre] URL.</h4>

<p>The HTML for the genre list looks like this:
<img class="left" src="/images/SamMvc/indexLinkExample.jpg" width="650" height="650" title="image" alt="images"></p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2016-09-07T11:40:08+12:00" pubdate data-updated="true"></time></div>
	


	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
<!---	<a class="addthis_counter addthis_pill_style"></a> --->
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2016

    Sam Zhong

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>
